[gd_scene load_steps=4 format=1]

[ext_resource path="res://paddle/paddle/paddle.png" type="Texture" id=1]

[sub_resource type="CircleShape2D" id=1]

custom_solver_bias = 0.0
radius = 37.0

[sub_resource type="GDScript" id=2]

script/source = "extends Node\n\nvar fixed_point\nconst MAX_DISTANCE = 256\n\nvar joystick_number = 0\n\nconst DEADZONE = 0.2\nconst SPEED = 150\nconst RECALL_SPEED = 75\n\nfunc _ready():\n\tset_process(true)\n\nfunc set_fixed_position(position):\n\tfixed_point = position\n\tset_pos(fixed_point)\n\t\nfunc _process(delta):\n\tvar x_axis_value = Input.get_joy_axis(joystick_number, 0)\n\tvar y_axis_value = Input.get_joy_axis(joystick_number, 1)\n\t\t\n\tvar speed = Vector2(x_axis_value, y_axis_value)\n\tvar current_position = get_pos()\n\tvar direction = (fixed_point - current_position)\n\n\tif (speed.length() < DEADZONE ):\n\t\trecall(direction, delta)\n\telif (direction.length() < MAX_DISTANCE):\n\t\tmove(speed.normalized() * SPEED * delta)\n\telse:\n\t\trecall(direction, delta)\n\nfunc recall(direction, delta):\n\tvar recall_speed = RECALL_SPEED * direction.normalized() * delta\n\tmove(recall_speed)\n\t\n  "

[node name="Paddle" type="Node"]

[node name="KinematicBody2D" type="KinematicBody2D" parent="."]

input/pickable = false
shapes/0/shape = SubResource( 1 )
shapes/0/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
collision/margin = 0.08
script/script = SubResource( 2 )

[node name="Sprite" type="Sprite" parent="KinematicBody2D"]

texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="KinematicBody2D"]

shape = SubResource( 1 )
trigger = false
_update_shape_index = 0


